(()=>{var e={};e.id=483,e.ids=[483],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14985:e=>{"use strict";e.exports=require("dns")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33644:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c});var s=r(65239),a=r(48088),i=r(88170),l=r.n(i),n=r(30893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let c={children:["",{children:["albums",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,60044)),"F:\\Music-Project\\group\\music-streaming_NOW_2\\app\\albums\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"F:\\Music-Project\\group\\music-streaming_NOW_2\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,u=["F:\\Music-Project\\group\\music-streaming_NOW_2\\app\\albums\\page.tsx"],d={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/albums/page",pathname:"/albums",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},40218:(e,t,r)=>{"use strict";function s(e,t="medium"){if(!e)return"Unknown date";let r="string"==typeof e?new Date(e):e;if(isNaN(r.getTime()))return"Invalid date";switch(t){case"year":return r.getFullYear().toString();case"short":return r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});case"medium":return r.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});case"long":return r.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});default:return r.toLocaleDateString("en-US")}}function a(e){if(!e)return"Unknown time";let t="string"==typeof e?new Date(e):e;if(isNaN(t.getTime()))return"Invalid date";let r=Math.ceil(Math.abs(new Date().getTime()-t.getTime())/864e5);return 0===r?"Today":1===r?"1 day ago":r<7?`${r} days ago`:r<30?`${Math.ceil(r/7)} weeks ago`:r<365?`${Math.ceil(r/30)} months ago`:`${Math.ceil(r/365)} years ago`}function i(e,t,r){let a=[s(e,"year")];return t&&a.push(t.charAt(0).toUpperCase()+t.slice(1)),r&&a.push(`${r} tracks`),a.join(" â€¢ ")}r.d(t,{Yq:()=>s,wI:()=>a,x_:()=>i})},41862:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},47033:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},50427:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("Disc3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M6 12c0-1.7.7-3.2 1.8-4.2",key:"oqkarx"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M18 12c0 1.7-.7 3.2-1.8 4.2",key:"1eah9h"}]])},55511:e=>{"use strict";e.exports=require("crypto")},60044:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"F:\\\\Music-Project\\\\group\\\\music-streaming_NOW_2\\\\app\\\\albums\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"F:\\Music-Project\\group\\music-streaming_NOW_2\\app\\albums\\page.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},90956:(e,t,r)=>{Promise.resolve().then(r.bind(r,60044))},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},95318:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(60687),a=r(43210),i=r(85814),l=r.n(i),n=r(30474),o=r(47033),c=r(50427),u=r(97840),d=r(41862),m=r(24934),p=r(71463),g=r(75118),h=r(19006),x=r(60217),b=r(40218);function f(){let e=(0,g.F)(),[t,r]=(0,a.useState)([]),[i,f]=(0,a.useState)(!0),[v,y]=(0,a.useState)(1),[j,N]=(0,a.useState)(!0),w=(0,a.useRef)(null),[_,k]=(0,a.useState)(0);(0,a.useRef)(0);let q=async(e=1)=>{try{f(!0);let t=await fetch(`/api/proxy/albums?sort=popularity&order=desc&limit=24&page=${e}`),s=await t.json();1===e?r(s.data||[]):r(e=>{let t=new Set(e.map(e=>e.id)),r=(s.data||[]).filter(e=>!t.has(e.id));return[...e,...r]}),N(s.pagination?.page<s.pagination?.pages),y(e),0===(s.data||[]).length&&1===e&&A()}catch(t){console.error("Error loading albums:",t),1===e&&A()}finally{f(!1)}},P=()=>{w.current&&clearTimeout(w.current),w.current=null},A=()=>{!(_>=20)&&(P(),w.current=setTimeout(()=>{k(e=>e+1),q(1)},Math.min(15e3,2e3*Math.pow(1.4,_))))};return(0,s.jsxs)("div",{className:"flex h-[calc(100vh-5rem)] text-white overflow-hidden relative",children:[(0,s.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-gray-900 to-zinc-900 animate-gradient-xy -z-10",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-800/30 via-indigo-800/30 to-blue-800/30 animate-pulse"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-bl from-slate-800/20 via-gray-800/20 to-zinc-800/20 animate-pulse",style:{animationDelay:"1s"}}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tl from-violet-800/25 via-purple-800/25 to-indigo-800/25 animate-pulse",style:{animationDelay:"2s"}}),(0,s.jsx)("div",{className:"absolute top-20 left-20 w-32 h-32 bg-gradient-to-r from-purple-600/15 to-indigo-600/15 rounded-full blur-xl animate-float"}),(0,s.jsx)("div",{className:"absolute top-40 right-32 w-24 h-24 bg-gradient-to-r from-blue-600/15 to-cyan-600/15 rounded-full blur-xl animate-float",style:{animationDelay:"2s"}}),(0,s.jsx)("div",{className:"absolute bottom-32 left-1/4 w-40 h-40 bg-gradient-to-r from-violet-600/15 to-purple-600/15 rounded-full blur-xl animate-float",style:{animationDelay:"4s"}}),(0,s.jsx)("div",{className:"absolute bottom-20 right-20 w-28 h-28 bg-gradient-to-r from-indigo-600/15 to-blue-600/15 rounded-full blur-xl animate-float",style:{animationDelay:"1s"}}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/30"})]}),(0,s.jsx)(h.B,{}),(0,s.jsx)("main",{className:"flex-1 overflow-auto relative z-0",children:(0,s.jsxs)("div",{className:"px-4 sm:px-6 md:px-8 py-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,s.jsx)(l(),{href:"/",children:(0,s.jsx)(m.$,{variant:"ghost",size:"icon",className:"hidden sm:flex rounded-full h-10 w-10",children:(0,s.jsx)(o.A,{className:"h-6 w-6"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-black mb-2",children:"Popular Albums"}),(0,s.jsx)("p",{className:"text-zinc-400",children:"Discover the most popular albums"})]})]}),0===t.length?(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:Array.from({length:12}).map((e,t)=>(0,s.jsxs)("div",{className:"p-4 rounded-lg",children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)(p.E,{className:"aspect-square rounded-lg"})}),(0,s.jsx)(p.E,{className:"h-4 w-4/5 mb-2"}),(0,s.jsx)(p.E,{className:"h-3 w-1/3"})]},t))}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:t.map(t=>(0,s.jsxs)(l(),{href:`/album/${t.id}`,className:"group p-4 rounded-lg hover:bg-white/5 transition-colors",children:[(0,s.jsxs)("div",{className:"relative aspect-square mb-4 rounded-lg overflow-hidden bg-zinc-800 shadow-lg",children:[t.images&&t.images.length>0?(0,s.jsx)(n.default,{src:t.images[0].url,alt:t.name,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsx)(c.A,{className:"h-16 w-16 text-zinc-600"})}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,s.jsx)(m.$,{size:"icon",className:"rounded-full h-12 w-12 bg-green-500 hover:bg-green-400 text-black shadow-lg",onClick:async r=>{r.preventDefault();try{let r=await x.i.getAlbumTracks(t.id);r&&r.length>0&&e.play(r[0],{queue:r,autoplay:!0})}catch(e){console.error("Failed to play album",e)}},children:(0,s.jsx)(u.A,{className:"h-6 w-6 ml-0.5"})})})]}),(0,s.jsx)("h3",{className:"font-semibold truncate mb-1",children:t.name}),(0,s.jsx)("p",{className:"text-sm text-zinc-400 truncate",children:(0,b.x_)(t.release_date,t.album_type)})]},t.id))}),j&&(0,s.jsx)("div",{className:"flex justify-center mt-8",children:(0,s.jsx)(m.$,{onClick:()=>{!i&&j&&q(v+1)},disabled:i,className:"bg-white text-black hover:bg-white/90",children:i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.A,{className:"h-4 w-4 animate-spin mr-2"}),"Loading..."]}):"Load More"})})]})]})})]})}},97036:(e,t,r)=>{Promise.resolve().then(r.bind(r,95318))}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[719,599,633,434,6],()=>r(33644));module.exports=s})();