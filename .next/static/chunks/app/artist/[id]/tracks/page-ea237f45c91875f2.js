(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2555],{227:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]])},2178:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])},2782:(e,t,s)=>{Promise.resolve().then(s.bind(s,4686))},4503:(e,t,s)=>{"use strict";s.d(t,{dj:()=>h});var a=s(2115);let i=0,l=new Map,r=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?r(s):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],o={toasts:[]};function d(e){o=n(o,e),c.forEach(e=>{e(o)})}function m(e){let{...t}=e,s=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function h(){let[e,t]=a.useState(o);return a.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},4686:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var a=s(5155),i=s(2115),l=s(6766),r=s(6874),n=s.n(r),c=s(7550),o=s(7924),d=s(4416),m=s(227),h=s(2178),x=s(5690),u=s(1976),f=s(5623),p=s(6516),g=s(1788),N=s(7168),v=s(9852),j=s(7737),w=s(5970),y=s(9338),b=s(5683),k=s(4503),A=s(875),z=s(330),S=s(7133);function _(e){let{params:t}=e,s=(0,y.F)(),{user:r,favoriteTrackIds:_,addToFavorites:E,removeFromFavorites:T}=(0,b.A)(),{toast:C}=(0,k.dj)(),[P,I]=(0,i.useState)(null),[O,M]=(0,i.useState)([]),[D,R]=(0,i.useState)(!0),[F,L]=(0,i.useState)(null),[q,U]=(0,i.useState)(null),[$,V]=(0,i.useState)({}),[B,Z]=(0,i.useState)(null),[G,H]=(0,i.useState)(""),[J,Q]=(0,i.useState)(!1);(0,i.useEffect)(()=>{(async()=>{U((await t).id)})()},[t]),(0,i.useEffect)(()=>{q&&(async()=>{try{R(!0);let[e,t]=await Promise.all([A.i.getArtist(q),A.i.getArtistTracks(q)]);I(e);try{let s=await Promise.all(t.map(async t=>{try{let s=await A.i.getAlbum(t.album_id);return{...t,artists:t.artists&&t.artists.length>0?t.artists:[e.name],album_images:s.images||[]}}catch(s){return{...t,artists:t.artists&&t.artists.length>0?t.artists:[e.name]}}}));M(s)}catch(s){console.warn("Failed to fetch album images for artist tracks:",s),M(t.map(t=>({...t,artists:t.artists&&t.artists.length>0?t.artists:[e.name]})))}}catch(e){console.error("Error loading artist tracks:",e),L("Failed to load artist tracks")}finally{R(!1)}})()},[q]);let X=e=>{let t=Math.floor(e/6e4),s=Math.floor(e%6e4/1e3);return"".concat(t,":").concat(s.toString().padStart(2,"0"))},Y=O.filter(e=>{var t;if(!G.trim())return!0;let s=G.toLowerCase();return e.name.toLowerCase().includes(s)||(null===(t=e.artists)||void 0===t?void 0:t.some(e=>e.toLowerCase().includes(s)))}),K=e=>{var t;let s="/api/proxy/download/".concat(e.id),a=document.createElement("a");a.href=s,a.download="".concat(e.name," - ").concat((null===(t=e.artists)||void 0===t?void 0:t.join(", "))||"Unknown Artist",".mp3"),a.target="_blank",document.body.appendChild(a),a.click(),document.body.removeChild(a),console.log("Download started for track:",e.name)},W=e=>{try{let t="".concat(window.location.origin,"/album/").concat(e.album_id,"?track=").concat(e.id);navigator.clipboard.writeText(t).then(()=>{console.log("Album deep-link copied to clipboard:",t)}).catch(()=>{console.log("Failed to copy album link")})}catch(e){}};return((0,i.useEffect)(()=>{if(O.length>0){let e={};O.forEach(t=>{let s=t.id.split("").reduce((e,t)=>e+t.charCodeAt(0),0);e[t.id]=Math.floor(s%1e9)+1e8}),V(e)}},[O]),(0,i.useEffect)(()=>{if(s.current&&s.isPlaying){B||Z(Date.now());let e=setInterval(()=>{V(e=>({...e,[s.current.id]:(e[s.current.id]||0)+Math.floor(3*Math.random())+1}))},2e3);return()=>clearInterval(e)}Z(null)},[s.current,s.isPlaying,B]),D)?(0,a.jsxs)("div",{className:"flex h-[calc(100vh-5rem)] bg-black text-white overflow-hidden",children:[(0,a.jsx)(w.B,{}),(0,a.jsxs)("main",{className:"flex-1 overflow-auto",children:[(0,a.jsx)("div",{className:"sticky top-0 z-10 bg-black/80 backdrop-blur-sm border-b border-zinc-800",children:(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 sm:p-6",children:[(0,a.jsx)(j.E,{className:"h-10 w-10 rounded-full"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)(j.E,{className:"h-6 w-40 mb-2"}),(0,a.jsx)(j.E,{className:"h-4 w-24"})]})]})}),(0,a.jsx)("div",{className:"p-4 sm:p-6",children:(0,a.jsx)("div",{className:"space-y-1",children:Array.from({length:8}).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-4 p-2 rounded-md",children:[(0,a.jsx)("div",{className:"w-4 text-right",children:(0,a.jsx)(j.E,{className:"h-4 w-4 inline-block"})}),(0,a.jsx)(j.E,{className:"h-12 w-12 rounded"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)(j.E,{className:"h-4 w-2/3 mb-2"}),(0,a.jsx)(j.E,{className:"h-3 w-1/3"})]}),(0,a.jsx)("div",{className:"hidden md:block w-20",children:(0,a.jsx)(j.E,{className:"h-4 w-full"})}),(0,a.jsxs)("div",{className:"w-20 flex items-center justify-end gap-2",children:[(0,a.jsx)(j.E,{className:"h-8 w-8 rounded"}),(0,a.jsx)(j.E,{className:"h-8 w-8 rounded"})]}),(0,a.jsx)("div",{className:"w-12 text-right",children:(0,a.jsx)(j.E,{className:"h-3 w-10 ml-auto"})})]},t))})})]})]}):F||!P?(0,a.jsxs)("div",{className:"flex h-[calc(100vh-5rem)] bg-black text-white overflow-hidden",children:[(0,a.jsx)(w.B,{}),(0,a.jsx)("main",{className:"flex-1 overflow-auto",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Artist Not Found"}),(0,a.jsx)("p",{className:"text-zinc-400",children:F||"The artist you are looking for does not exist."})]})})})]}):(0,a.jsxs)("div",{className:"flex h-[calc(100vh-5rem)] bg-black text-white overflow-hidden",children:[(0,a.jsx)(w.B,{}),(0,a.jsxs)("main",{className:"flex-1 overflow-auto",children:[(0,a.jsx)("div",{className:"sticky top-0 z-10 bg-black/80 backdrop-blur-sm border-b border-zinc-800",children:(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 sm:p-6",children:[(0,a.jsx)(n(),{href:"/artist/".concat(q),children:(0,a.jsx)(N.$,{variant:"ghost",size:"icon",className:"rounded-full",children:(0,a.jsx)(c.A,{className:"h-5 w-5"})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h1",{className:"text-xl sm:text-2xl font-bold",children:P.name}),(0,a.jsxs)("p",{className:"text-sm text-zinc-400",children:[G?"".concat(Y.length," of ").concat(O.length):O.length," songs"]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:J?(0,a.jsxs)("div",{className:"relative animate-in slide-in-from-right duration-200",children:[(0,a.jsx)(o.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-zinc-400"}),(0,a.jsx)(v.p,{type:"text",placeholder:"Search in songs...",value:G,onChange:e=>H(e.target.value),autoFocus:!0,className:"w-64 pl-10 pr-10 bg-zinc-900 border-zinc-700 text-white placeholder:text-zinc-500 focus-visible:ring-green-500"}),(0,a.jsx)(N.$,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7 text-zinc-400 hover:text-white",onClick:()=>{H(""),Q(!1)},children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})]}):(0,a.jsx)(N.$,{variant:"ghost",size:"icon",className:"rounded-full text-zinc-400 hover:text-white",onClick:()=>Q(!0),children:(0,a.jsx)(o.A,{className:"h-5 w-5"})})})]})}),(0,a.jsx)("div",{className:"p-4 sm:p-6",children:0===Y.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(m.A,{className:"h-12 w-12 text-zinc-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-zinc-400 text-lg",children:"No tracks found"}),G&&(0,a.jsx)("p",{className:"text-zinc-500 text-sm mt-2",children:"Try adjusting your search query"})]}):(0,a.jsx)("div",{className:"space-y-1",children:Y.map((e,t)=>{var i;let r=_.includes(e.id),n=(null===(i=s.current)||void 0===i?void 0:i.id)===e.id;return(0,a.jsxs)("div",{className:"group flex items-center gap-4 p-2 rounded-md hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>s.play(e,{queue:O,autoplay:!0}),children:[(0,a.jsxs)("div",{className:"w-4 text-right text-zinc-400 text-sm font-medium",children:[!n&&(0,a.jsx)("span",{className:"group-hover:hidden",children:t+1}),n?(0,a.jsx)(N.$,{variant:"ghost",size:"icon",className:"h-6 w-6 p-0 text-green-500 hover:text-green-400",onClick:e=>{e.stopPropagation(),s.isPlaying?s.pause():s.resume()},"aria-label":s.isPlaying?"Pause":"Play",children:s.isPlaying?(0,a.jsx)(h.A,{className:"h-4 w-4"}):(0,a.jsx)(x.A,{className:"h-4 w-4"})}):(0,a.jsx)(N.$,{variant:"ghost",size:"icon",className:"h-6 w-6 p-0 hidden group-hover:inline-flex text-white",onClick:t=>{t.stopPropagation(),s.play(e,{queue:O,autoplay:!0})},"aria-label":"Play",children:(0,a.jsx)(x.A,{className:"h-4 w-4"})})]}),(0,a.jsx)("div",{className:"relative w-12 h-12 bg-zinc-800 rounded overflow-hidden flex-shrink-0",children:e.album_images&&e.album_images.length>0?(0,a.jsx)(l.default,{src:e.album_images[0].url,alt:e.name,fill:!0,className:"object-cover"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)(m.A,{className:"h-6 w-6 text-zinc-400"})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-medium truncate ".concat(n?"text-green-500":"text-white"),children:e.name}),(0,a.jsx)(z.d,{artists:e.artists,maxLength:25})]}),(0,a.jsx)("div",{className:"hidden md:block text-sm text-zinc-400",children:($[e.id]||0).toLocaleString()}),(0,a.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)(N.$,{variant:"ghost",size:"icon",className:"h-8 w-8 ".concat(r?"text-green-500":"text-zinc-400 hover:text-white"),onClick:t=>{t.stopPropagation(),r?T(e.id):E(e.id)},children:(0,a.jsx)(u.A,{className:"h-4 w-4 ".concat(r?"fill-current":"")})}),(0,a.jsxs)(S.rI,{children:[(0,a.jsx)(S.ty,{asChild:!0,children:(0,a.jsx)(N.$,{variant:"ghost",size:"icon",className:"h-8 w-8 text-zinc-400 hover:text-white",onClick:e=>e.stopPropagation(),children:(0,a.jsx)(f.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(S.SQ,{className:"w-48 bg-zinc-800 border-zinc-700 text-white",children:[(0,a.jsxs)(S._2,{className:"flex items-center gap-2 cursor-pointer hover:bg-zinc-700",onClick:()=>W(e),children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),"Share Track"]}),(0,a.jsxs)(S._2,{className:"flex items-center gap-2 cursor-pointer hover:bg-zinc-700",onClick:()=>K(e),children:[(0,a.jsx)(g.A,{className:"h-4 w-4"}),"Download"]})]})]})]}),(0,a.jsx)("div",{className:"text-sm text-zinc-400 w-12 text-right",children:X(e.duration_ms)})]},e.id)})})})]})]})}},5623:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},6516:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},7133:(e,t,s)=>{"use strict";s.d(t,{SQ:()=>h,_2:()=>x,mB:()=>u,rI:()=>d,ty:()=>m});var a=s(5155),i=s(2115),l=s(8698),r=s(3052),n=s(5196),c=s(9428),o=s(3999);let d=l.bL,m=l.l9;l.YJ,l.ZL,l.Pb,l.z6,i.forwardRef((e,t)=>{let{className:s,inset:i,children:n,...c}=e;return(0,a.jsxs)(l.ZP,{ref:t,className:(0,o.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",i&&"pl-8",s),...c,children:[n,(0,a.jsx)(r.A,{className:"ml-auto"})]})}).displayName=l.ZP.displayName,i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)(l.G5,{ref:t,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...i})}).displayName=l.G5.displayName;let h=i.forwardRef((e,t)=>{let{className:s,sideOffset:i=4,...r}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsx)(l.UC,{ref:t,sideOffset:i,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})})});h.displayName=l.UC.displayName;let x=i.forwardRef((e,t)=>{let{className:s,inset:i,...r}=e;return(0,a.jsx)(l.q7,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",i&&"pl-8",s),...r})});x.displayName=l.q7.displayName,i.forwardRef((e,t)=>{let{className:s,children:i,checked:r,...c}=e;return(0,a.jsxs)(l.H_,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:r,...c,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})}),i]})}).displayName=l.H_.displayName,i.forwardRef((e,t)=>{let{className:s,children:i,...r}=e;return(0,a.jsxs)(l.hN,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...r,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(c.A,{className:"h-2 w-2 fill-current"})})}),i]})}).displayName=l.hN.displayName,i.forwardRef((e,t)=>{let{className:s,inset:i,...r}=e;return(0,a.jsx)(l.JU,{ref:t,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",i&&"pl-8",s),...r})}).displayName=l.JU.displayName;let u=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,a.jsx)(l.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",s),...i})});u.displayName=l.wv.displayName},7550:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9852:(e,t,s)=>{"use strict";s.d(t,{p:()=>r});var a=s(5155),i=s(2115),l=s(3999);let r=i.forwardRef((e,t)=>{let{className:s,type:i,...r}=e;return(0,a.jsx)("input",{type:i,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...r})});r.displayName="Input"}},e=>{var t=t=>e(e.s=t);e.O(0,[9135,3965,3374,2390,1835,1541,1623,855,1322,5970,5143,8441,1684,7358],()=>t(2782)),_N_E=e.O()}]);