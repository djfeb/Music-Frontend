(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4133],{1154:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1482:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},2355:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},4816:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>y});var t=a(5155),r=a(2115),i=a(5695),l=a(6766),n=a(6874),c=a.n(n),o=a(2355),d=a(1482),m=a(4416),h=a(1154),u=a(5690),p=a(7168),x=a(5970),g=a(5824),f=a(7737),j=a(5683),v=a(9338),N=a(875);function b(){let{user:e,contentPreferences:s}=(0,j.A)(),a=(0,v.F)(),n=(0,i.useSearchParams)(),[b,y]=(0,r.useState)([]),[w,E]=(0,r.useState)([]),[P,k]=(0,r.useState)([]),[A,G]=(0,r.useState)(!0),[S,O]=(0,r.useState)(!1),[L,C]=(0,r.useState)("all"),[F,q]=(0,r.useState)(!1),[M,z]=(0,r.useState)("artists"),[T,D]=(0,r.useState)(1),[R,W]=(0,r.useState)(!0);(0,r.useEffect)(()=>{J(1,!0)},[e,s,L]),(0,r.useEffect)(()=>{let e=n.get("genre");e&&C(e)},[n]);let J=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a?(G(!0),D(1),W(!0)):O(!0);try{console.log("[GOSPEL PAGE] Loading gospel content... Page:",e,"Genre:",L);let t=[],r=[],i=[];if("all"===L)t=["/api/proxy/artists?genre=gospel&limit=".concat(25,"&page=").concat(e),"/api/proxy/artists?genre=African%20Gospel&limit=".concat(25,"&page=").concat(e),"/api/proxy/artists?genre=christian&limit=".concat(25,"&page=").concat(e)],r=["/api/proxy/albums?genre=gospel&limit=".concat(25,"&page=").concat(e),"/api/proxy/albums?search=gospel&limit=".concat(25,"&page=").concat(e)],i=["/api/proxy/tracks?genre=gospel&limit=".concat(25,"&page=").concat(e),"/api/proxy/tracks?search=gospel&limit=".concat(25,"&page=").concat(e)];else{let s=encodeURIComponent(L);console.log("using genre:",s),t=["/api/proxy/artists?genre=".concat(s,"&limit=").concat(25,"&page=").concat(e),"/api/proxy/artists?search=".concat(s,"&limit=").concat(25,"&page=").concat(e)],r=["/api/proxy/albums?genre=".concat(s,"&limit=").concat(25,"&page=").concat(e),"/api/proxy/albums?search=".concat(s,"&limit=").concat(25,"&page=").concat(e)],i=["/api/proxy/tracks?genre=".concat(s,"&limit=").concat(25,"&page=").concat(e),"/api/proxy/tracks?search=".concat(s,"&limit=").concat(25,"&page=").concat(e)]}let[l,n,c,o,d,m,h]=await Promise.all([fetch(t[0]||"").catch(e=>(console.warn("[GOSPEL PAGE] Fetch error for artists query 1:",e),new Response('{"data":[]}',{status:200}))),fetch(t[1]||"").catch(e=>(console.warn("[GOSPEL PAGE] Fetch error for artists query 2:",e),new Response('{"data":[]}',{status:200}))),fetch(t[2]||"").catch(e=>(console.warn("[GOSPEL PAGE] Fetch error for artists query 3:",e),new Response('{"data":[]}',{status:200}))),fetch(r[0]||"").catch(e=>(console.warn("[GOSPEL PAGE] Fetch error for albums query 1:",e),new Response('{"data":[]}',{status:200}))),fetch(r[1]||"").catch(e=>(console.warn("[GOSPEL PAGE] Fetch error for albums query 2:",e),new Response('{"data":[]}',{status:200}))),fetch(i[0]||"").catch(e=>(console.warn("[GOSPEL PAGE] Fetch error for tracks query 1:",e),new Response('{"data":[]}',{status:200}))),fetch(i[1]||"").catch(e=>(console.warn("[GOSPEL PAGE] Fetch error for tracks query 2:",e),new Response('{"data":[]}',{status:200})))]),[u,p,x,g,f,j,v]=await Promise.all([l.text().then(e=>{try{if(e.trim().startsWith("<!DOCTYPE")||e.trim().startsWith("<html"))return console.warn("[GOSPEL PAGE] Received HTML instead of JSON for artists query 1"),{data:[]};return JSON.parse(e)}catch(e){return console.warn("[GOSPEL PAGE] Failed to parse artists query 1:",e),{data:[]}}}),n.text().then(e=>{try{if(e.trim().startsWith("<!DOCTYPE")||e.trim().startsWith("<html"))return console.warn("[GOSPEL PAGE] Received HTML instead of JSON for artists query 2"),{data:[]};return JSON.parse(e)}catch(e){return console.warn("[GOSPEL PAGE] Failed to parse artists query 2:",e),{data:[]}}}),c.text().then(e=>{try{if(e.trim().startsWith("<!DOCTYPE")||e.trim().startsWith("<html"))return console.warn("[GOSPEL PAGE] Received HTML instead of JSON for artists query 3"),{data:[]};return JSON.parse(e)}catch(e){return console.warn("[GOSPEL PAGE] Failed to parse artists query 3:",e),{data:[]}}}),o.text().then(e=>{try{if(e.trim().startsWith("<!DOCTYPE")||e.trim().startsWith("<html"))return console.warn("[GOSPEL PAGE] Received HTML instead of JSON for albums query 1"),{data:[]};return JSON.parse(e)}catch(e){return console.warn("[GOSPEL PAGE] Failed to parse albums query 1:",e),{data:[]}}}),d.text().then(e=>{try{if(e.trim().startsWith("<!DOCTYPE")||e.trim().startsWith("<html"))return console.warn("[GOSPEL PAGE] Received HTML instead of JSON for albums query 2"),{data:[]};return JSON.parse(e)}catch(e){return console.warn("[GOSPEL PAGE] Failed to parse albums query 2:",e),{data:[]}}}),m.text().then(e=>{try{if(e.trim().startsWith("<!DOCTYPE")||e.trim().startsWith("<html"))return console.warn("[GOSPEL PAGE] Received HTML instead of JSON for tracks query 1"),{data:[]};return JSON.parse(e)}catch(e){return console.warn("[GOSPEL PAGE] Failed to parse tracks query 1:",e),{data:[]}}}),h.text().then(e=>{try{if(e.trim().startsWith("<!DOCTYPE")||e.trim().startsWith("<html"))return console.warn("[GOSPEL PAGE] Received HTML instead of JSON for tracks query 2"),{data:[]};return JSON.parse(e)}catch(e){return console.warn("[GOSPEL PAGE] Failed to parse tracks query 2:",e),{data:[]}}})]),N=[...u.data||[],...p.data||[],...x.data||[]],b=Array.from(new Map(N.map(e=>[e.id,e])).values()),w=[...g.data||[],...f.data||[]],P=Array.from(new Map(w.map(e=>[e.id,e])).values()),A=[...j.data||[],...v.data||[]],G=Array.from(new Map(A.map(e=>[e.id,e])).values()),S=["african gosple","gospel","christian","worship","praise","hymn","spiritual","church","holy","blessed","prayer","faith","jesus","christ","god","lord","hallelujah","amen","salvation","ministry","contemporary christian","traditional gospel","christian rock","christian pop","african gospel","southern gospel","urban gospel"],O=(e,s)=>e.filter(e=>{var s;let a=(null===(s=e.name)||void 0===s?void 0:s.toLowerCase())||"",t=(e.genres||[]).map(e=>e.toLowerCase()),r=(e.artists||[]).join(" ").toLowerCase(),i=t.some(e=>S.some(s=>e.includes(s))),l=S.some(e=>a.includes(e)||r.includes(e));if(!(i||l))return!1;if("all"===L)return!0;let n=L.toLowerCase();return t.some(e=>e.includes(n))||a.includes(n)||r.includes(n)}),C=O(b,"artist"),F=O(P,"album"),q=O(G,"track");s&&"mixed"!==s.preferenceType&&console.log("[GOSPEL PAGE] Applying user preference filtering:",s.preferenceType),a?(y(C),E(F),k(q)):(y(e=>{let s=new Set(e.map(e=>e.id)),a=C.filter(e=>!s.has(e.id));return[...e,...a]}),E(e=>{let s=new Set(e.map(e=>e.id)),a=F.filter(e=>!s.has(e.id));return[...e,...a]}),k(e=>{let s=new Set(e.map(e=>e.id)),a=q.filter(e=>!s.has(e.id));return[...e,...a]})),D(e);let M=C.length+F.length+q.length;W(M>=7.5),console.log("[GOSPEL PAGE] Content loaded:",{page:e,reset:a,selectedGenre:L,artists:C.length,albums:F.length,tracks:q.length,hasMore:M>=7.5,sampleArtistGenres:C.slice(0,3).map(e=>({name:e.name,genres:e.genres}))})}catch(e){console.error("[GOSPEL PAGE] Error loading content:",e)}finally{G(!1),O(!1)}},$=()=>{!S&&R&&J(T+1,!1)},_={artists:b,albums:w,tracks:P};return(0,t.jsxs)("div",{className:"flex h-[calc(100vh-5rem)] bg-black text-white overflow-hidden",children:[(0,t.jsx)(x.B,{}),(0,t.jsx)("main",{className:"flex-1 overflow-auto",children:(0,t.jsx)("div",{className:"bg-gradient-to-b from-purple-900 to-black",children:(0,t.jsxs)("div",{className:"p-6 md:p-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)(p.$,{variant:"ghost",size:"icon",className:"hidden sm:flex rounded-full h-10 w-10",onClick:()=>window.history.back(),children:(0,t.jsx)(o.A,{className:"h-6 w-6"})}),(0,t.jsx)("div",{children:(0,t.jsx)("h1",{className:"text-2xl sm:text-4xl md:text-6xl font-black",children:"Gospel Music"})})]}),(0,t.jsx)("p",{className:"hidden sm:block text-lg text-zinc-300 max-w-2xl sm:ml-14",children:"Discover inspiring gospel music, worship songs, and Christian artists that uplift your spirit."})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsxs)(p.$,{variant:"outline",onClick:()=>q(!F),className:"flex items-center gap-2",children:[(0,t.jsx)(d.A,{className:"h-4 w-4"}),"Filters","all"!==L&&(0,t.jsx)("span",{className:"bg-green-500 text-black px-2 py-0.5 rounded-full text-xs",children:"1"})]}),"all"!==L&&(0,t.jsxs)(p.$,{variant:"ghost",size:"sm",onClick:()=>C("all"),className:"flex items-center gap-2 text-zinc-400",children:[(0,t.jsx)(m.A,{className:"h-3 w-3"}),"Clear filters"]})]}),F&&(0,t.jsxs)("div",{className:"bg-zinc-900/50 rounded-lg p-4 mb-4",children:[(0,t.jsx)("h3",{className:"font-semibold mb-3",children:"Gospel Genres"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:[{id:"all",name:"All Gospel",count:0},{id:"african gospel",name:"African Gospel",count:0},{id:"gospel",name:"Gospel",count:0},{id:"christian",name:"Christian",count:0},{id:"worship",name:"Worship",count:0},{id:"praise",name:"Praise",count:0},{id:"hymn",name:"Hymns",count:0},{id:"spiritual",name:"Spiritual",count:0},{id:"contemporary-christian",name:"Contemporary Christian",count:0},{id:"traditional-gospel",name:"Traditional Gospel",count:0}].map(e=>(0,t.jsx)(p.$,{variant:L===e.id?"default":"outline",size:"sm",onClick:()=>C(e.id),className:L===e.id?"bg-green-500 text-black":"",children:e.name},e.id))})]}),(0,t.jsx)("div",{className:"flex gap-1 bg-zinc-900/50 rounded-lg p-1",children:(0,t.jsxs)(p.$,{variant:"artists"===M?"default":"ghost",size:"sm",onClick:()=>z("artists"),className:"artists"===M?"bg-white text-black":"",children:["Artists (",_.artists.length,")"]})})]}),(0,t.jsx)("div",{className:"min-h-[400px]",children:A?(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:Array.from({length:12}).map((e,s)=>(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)(f.E,{className:"aspect-square ".concat("artists"===M?"rounded-full":"rounded-lg"," mb-3")}),(0,t.jsx)(f.E,{className:"h-4 w-4/5 mb-2"}),(0,t.jsx)(f.E,{className:"h-3 w-1/2"})]},s))}):(0,t.jsxs)(t.Fragment,{children:["artists"===M&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:_.artists.map(e=>(0,t.jsxs)(c(),{href:"/artist/".concat(e.id),className:"group p-4 rounded-lg hover:bg-white/5 transition-colors",children:[(0,t.jsx)("div",{className:"relative aspect-square mb-3 rounded-full overflow-hidden bg-zinc-800 shadow-lg",children:e.images&&e.images.length>0?(0,t.jsx)(l.default,{src:e.images[0].url,alt:e.name,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-2xl",children:"\uD83C\uDFA4"})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"font-medium text-sm mb-1 group-hover:text-white transition-colors line-clamp-2",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-zinc-400",children:"Artist"})]})]},e.id))}),R&&_.artists.length>0&&(0,t.jsx)("div",{className:"flex justify-center mt-8",children:(0,t.jsx)(p.$,{onClick:$,disabled:S,className:"bg-green-500 text-black hover:bg-green-400 px-8 py-2",children:S?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.A,{className:"h-4 w-4 animate-spin mr-2"}),"Loading More Artists..."]}):"Load More Artists"})})]}),"albums"===M&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:_.albums.map(e=>{var s;return(0,t.jsxs)(c(),{href:"/album/".concat(e.id),className:"group p-4 rounded-lg hover:bg-white/5 transition-colors",children:[(0,t.jsxs)("div",{className:"relative aspect-square mb-3 rounded-lg overflow-hidden bg-zinc-800 shadow-lg",children:[e.images&&e.images.length>0?(0,t.jsx)(l.default,{src:e.images[0].url,alt:e.name,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-2xl",children:"\uD83C\uDFB5"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,t.jsx)(p.$,{size:"icon",className:"rounded-full h-12 w-12 bg-green-500 hover:bg-green-400 text-black shadow-lg",onClick:async s=>{s.preventDefault();try{let s=await N.i.getAlbumTracks(e.id);s&&s.length>0&&a.play(s[0],{queue:s,autoplay:!0})}catch(e){console.error("Failed to play album",e)}},children:(0,t.jsx)(u.A,{className:"h-6 w-6 ml-0.5"})})})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"font-medium text-sm mb-1 group-hover:text-white transition-colors line-clamp-2",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-zinc-400 line-clamp-1",children:(null===(s=e.artists)||void 0===s?void 0:s.join(", "))||"Various Artists"})]})]},e.id)})}),R&&_.albums.length>0&&(0,t.jsx)("div",{className:"flex justify-center mt-8",children:(0,t.jsx)(p.$,{onClick:$,disabled:S,className:"bg-green-500 text-black hover:bg-green-400 px-8 py-2",children:S?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.A,{className:"h-4 w-4 animate-spin mr-2"}),"Loading More Albums..."]}):"Load More Albums"})})]}),"tracks"===M&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"space-y-2",children:_.tracks.map((e,s)=>{var r;return(0,t.jsxs)("div",{className:"group flex items-center gap-4 p-3 rounded-lg hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>{a.play(e,{queue:_.tracks,autoplay:!0})},children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-8 text-center",children:(0,t.jsx)("span",{className:"text-zinc-400 text-sm",children:s+1})}),(0,t.jsx)("div",{className:"flex-shrink-0 w-12 h-12 bg-zinc-800 rounded overflow-hidden",children:e.album_images&&e.album_images.length>0?(0,t.jsx)(l.default,{src:e.album_images[0].url,alt:e.name,width:48,height:48,className:"object-cover"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-lg",children:"\uD83C\uDFB5"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h4",{className:"font-medium text-sm truncate group-hover:text-white transition-colors",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-zinc-400 truncate",children:(null===(r=e.artists)||void 0===r?void 0:r.join(", "))||"Unknown Artist"})]}),(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(p.$,{size:"icon",variant:"ghost",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)(u.A,{className:"h-4 w-4"})})})]},e.id)})}),R&&_.tracks.length>0&&(0,t.jsx)("div",{className:"flex justify-center mt-8",children:(0,t.jsx)(p.$,{onClick:$,disabled:S,className:"bg-green-500 text-black hover:bg-green-400 px-8 py-2",children:S?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.A,{className:"h-4 w-4 animate-spin mr-2"}),"Loading More Tracks..."]}):"Load More Tracks"})})]}),!A&&("artists"===M&&0===_.artists.length||"albums"===M&&0===_.albums.length||"tracks"===M&&0===_.tracks.length)&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDFB5"}),(0,t.jsxs)("h3",{className:"text-xl font-semibold mb-2",children:["No ",M," found"]}),(0,t.jsx)("p",{className:"text-zinc-400 mb-4",children:"all"!==L?"No ".concat(M," found for the selected genre. Try a different filter."):"No gospel ".concat(M," available at the moment.")}),"all"!==L&&(0,t.jsx)(p.$,{variant:"outline",onClick:()=>C("all"),children:"Clear filters"})]})]})})]})})}),(0,t.jsx)(g.MusicPlayer,{})]})}function y(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsxs)("div",{className:"flex h-[calc(100vh-5rem)] bg-black text-white overflow-hidden",children:[(0,t.jsx)(x.B,{}),(0,t.jsx)("main",{className:"flex-1 overflow-auto",children:(0,t.jsx)("div",{className:"bg-gradient-to-b from-purple-900 to-black",children:(0,t.jsxs)("div",{className:"p-6 md:p-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)(p.$,{variant:"ghost",size:"icon",className:"hidden sm:flex rounded-full h-10 w-10",children:(0,t.jsx)(o.A,{className:"h-6 w-6"})}),(0,t.jsx)("div",{children:(0,t.jsx)("h1",{className:"text-2xl sm:text-4xl md:text-6xl font-black",children:"Gospel Music"})})]}),(0,t.jsx)("p",{className:"hidden sm:block text-lg text-zinc-300 max-w-2xl sm:ml-14",children:"Discover inspiring gospel music, worship songs, and Christian artists that uplift your spirit."})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:Array.from({length:12}).map((e,s)=>(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)(f.E,{className:"aspect-square rounded-full mb-3"}),(0,t.jsx)(f.E,{className:"h-4 w-4/5 mb-2"}),(0,t.jsx)(f.E,{className:"h-3 w-1/2"})]},s))})]})})}),(0,t.jsx)(g.MusicPlayer,{})]}),children:(0,t.jsx)(b,{})})}},5046:(e,s,a)=>{Promise.resolve().then(a.bind(a,4816))}},e=>{var s=s=>e(e.s=s);e.O(0,[9135,3965,3374,2390,1835,1541,1623,1045,1322,5970,5143,5824,8441,1684,7358],()=>s(5046)),_N_E=e.O()}]);