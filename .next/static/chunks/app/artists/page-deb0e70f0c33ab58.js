(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2205],{1154:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(9946).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1482:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(9946).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},2355:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(9946).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},2926:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var l=a(5155),s=a(2115),r=a(6874),n=a.n(r),i=a(6766),o=a(2355),d=a(1482),c=a(5690),u=a(1154),m=a(7168),f=a(7737),h=a(7133),p=a(9338),g=a(5970);function v(){var e,t,a;(0,p.F)();let[r,v]=(0,s.useState)([]),[x,b]=(0,s.useState)(!0),[y,j]=(0,s.useState)(1),[N,w]=(0,s.useState)(!0),[k,S]=(0,s.useState)("all"),z=(0,s.useRef)(null),[C,A]=(0,s.useState)(0);(0,s.useRef)(0);let _=[{value:"all",label:"All Genres"},{value:"gospel",label:"Gospel"},{value:"african gospel",label:"African Gospel"},{value:"afrobeat",label:"Afrobeat"},{value:"highlife",label:"Highlife"},{value:"afropop",label:"Afropop"},{value:"asakaa",label:"Asakaa"}];(0,s.useEffect)(()=>{E()},[k]);let E=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{var t,a;b(!0);let l="/api/proxy/artists?sort=popularity&order=desc&limit=100&page=".concat(e);"all"!==k&&(l+="&genre=".concat(encodeURIComponent(k)));let s=await fetch(l),r=await s.json();1===e?v((e=>{let t=new Set;return e.filter(e=>!t.has(e.id)&&(t.add(e.id),!0))})(r.data||[])):v(e=>{let t=new Set(e.map(e=>e.id)),a=(r.data||[]).filter(e=>!t.has(e.id));return[...e,...a]}),w((null===(t=r.pagination)||void 0===t?void 0:t.page)<(null===(a=r.pagination)||void 0===a?void 0:a.pages)),j(e),0===(r.data||[]).length&&1===e&&P()}catch(t){console.error("Error loading artists:",t),1===e&&P()}finally{b(!1)}},L=()=>{z.current&&clearTimeout(z.current),z.current=null},P=()=>{!(C>=20)&&(L(),z.current=setTimeout(()=>{A(e=>e+1),E(1)},Math.min(15e3,2e3*Math.pow(1.4,C))))},M=e=>{S(e),j(1),w(!0)};return(0,l.jsxs)("div",{className:"flex h-[calc(100vh-5rem)] text-white overflow-hidden relative",children:[(0,l.jsxs)("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-gray-900 to-zinc-900 animate-gradient-xy -z-10",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-purple-800/30 via-indigo-800/30 to-blue-800/30 animate-pulse"}),(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-bl from-slate-800/20 via-gray-800/20 to-zinc-800/20 animate-pulse",style:{animationDelay:"1s"}}),(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tl from-violet-800/25 via-purple-800/25 to-indigo-800/25 animate-pulse",style:{animationDelay:"2s"}}),(0,l.jsx)("div",{className:"absolute top-20 left-20 w-32 h-32 bg-gradient-to-r from-purple-600/15 to-indigo-600/15 rounded-full blur-xl animate-float"}),(0,l.jsx)("div",{className:"absolute top-40 right-32 w-24 h-24 bg-gradient-to-r from-blue-600/15 to-cyan-600/15 rounded-full blur-xl animate-float",style:{animationDelay:"2s"}}),(0,l.jsx)("div",{className:"absolute bottom-32 left-1/4 w-40 h-40 bg-gradient-to-r from-violet-600/15 to-purple-600/15 rounded-full blur-xl animate-float",style:{animationDelay:"4s"}}),(0,l.jsx)("div",{className:"absolute bottom-20 right-20 w-28 h-28 bg-gradient-to-r from-indigo-600/15 to-blue-600/15 rounded-full blur-xl animate-float",style:{animationDelay:"1s"}}),(0,l.jsx)("div",{className:"absolute inset-0 bg-black/30"})]}),(0,l.jsx)(g.B,{}),(0,l.jsx)("main",{className:"flex-1 overflow-auto relative z-0",children:(0,l.jsxs)("div",{className:"px-4 sm:px-6 md:px-8 py-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(n(),{href:"/",children:(0,l.jsx)(m.$,{variant:"ghost",size:"icon",className:"hidden sm:flex rounded-full h-10 w-10",children:(0,l.jsx)(o.A,{className:"h-6 w-6"})})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl md:text-4xl font-black mb-2",children:"Popular Artists"}),(0,l.jsx)("p",{className:"text-zinc-400",children:"all"===k?"Discover the most popular artists":"Filtered by ".concat(null===(e=_.find(e=>e.value===k))||void 0===e?void 0:e.label)})]})]}),(0,l.jsxs)(h.rI,{children:[(0,l.jsx)(h.ty,{asChild:!0,children:(0,l.jsxs)(m.$,{variant:"outline",className:"gap-2 border-zinc-600 text-zinc-300 hover:bg-zinc-800",children:[(0,l.jsx)(d.A,{className:"h-4 w-4"}),(null===(t=_.find(e=>e.value===k))||void 0===t?void 0:t.label)||"All Genres"]})}),(0,l.jsx)(h.SQ,{className:"w-48 bg-zinc-800 border-zinc-700 text-white",children:_.map(e=>(0,l.jsx)(h._2,{className:"cursor-pointer hover:bg-zinc-700 ".concat(k===e.value?"bg-zinc-700 text-green-400":""),onClick:()=>M(e.value),children:e.label},e.value))})]})]}),0===r.length?(0,l.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:Array.from({length:12}).map((e,t)=>(0,l.jsxs)("div",{className:"p-4 rounded-lg",children:[(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)(f.E,{className:"aspect-square rounded-full"})}),(0,l.jsx)(f.E,{className:"h-4 w-3/4 mb-2"}),(0,l.jsx)(f.E,{className:"h-3 w-1/2"})]},t))}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:r.map(e=>{var t;return(0,l.jsxs)(n(),{href:"/artist/".concat(e.id),className:"group p-4 rounded-lg hover:bg-white/5 transition-colors",children:[(0,l.jsxs)("div",{className:"relative aspect-square mb-4 rounded-full overflow-hidden bg-zinc-800",children:[e.images&&e.images.length>0?(0,l.jsx)(i.default,{src:e.images[0].url,alt:e.name,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300"}):(0,l.jsx)("div",{className:"w-full h-full flex items-center justify-center text-4xl",children:"\uD83D\uDC64"}),(0,l.jsx)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,l.jsx)(m.$,{size:"icon",className:"rounded-full h-12 w-12 bg-green-500 hover:bg-green-400 text-black",children:(0,l.jsx)(c.A,{className:"h-6 w-6 ml-0.5"})})})]}),(0,l.jsx)("h3",{className:"font-semibold truncate mb-1",children:e.name}),(0,l.jsxs)("p",{className:"text-sm text-zinc-400 truncate",children:[null===(t=e.followers_total)||void 0===t?void 0:t.toLocaleString()," followers"]})]},e.id)})}),N&&(0,l.jsx)("div",{className:"flex justify-center mt-8",children:(0,l.jsx)(m.$,{onClick:()=>{!x&&N&&E(y+1)},disabled:x,className:"bg-white text-black hover:bg-white/90",children:x?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.A,{className:"h-4 w-4 animate-spin mr-2"}),"Loading..."]}):"Load More"})}),"all"!==k&&(0,l.jsx)("div",{className:"text-center mt-8 text-zinc-400",children:(0,l.jsxs)("p",{children:["Showing ",r.length,' artists for "',null===(a=_.find(e=>e.value===k))||void 0===a?void 0:a.label,'"']})})]})]})})]})}},4494:(e,t,a)=>{Promise.resolve().then(a.bind(a,2926))},7133:(e,t,a)=>{"use strict";a.d(t,{SQ:()=>m,_2:()=>f,mB:()=>h,rI:()=>c,ty:()=>u});var l=a(5155),s=a(2115),r=a(8698),n=a(3052),i=a(5196),o=a(9428),d=a(3999);let c=r.bL,u=r.l9;r.YJ,r.ZL,r.Pb,r.z6,s.forwardRef((e,t)=>{let{className:a,inset:s,children:i,...o}=e;return(0,l.jsxs)(r.ZP,{ref:t,className:(0,d.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",a),...o,children:[i,(0,l.jsx)(n.A,{className:"ml-auto"})]})}).displayName=r.ZP.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(r.G5,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...s})}).displayName=r.G5.displayName;let m=s.forwardRef((e,t)=>{let{className:a,sideOffset:s=4,...n}=e;return(0,l.jsx)(r.ZL,{children:(0,l.jsx)(r.UC,{ref:t,sideOffset:s,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})})});m.displayName=r.UC.displayName;let f=s.forwardRef((e,t)=>{let{className:a,inset:s,...n}=e;return(0,l.jsx)(r.q7,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",a),...n})});f.displayName=r.q7.displayName,s.forwardRef((e,t)=>{let{className:a,children:s,checked:n,...o}=e;return(0,l.jsxs)(r.H_,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...o,children:[(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(r.VF,{children:(0,l.jsx)(i.A,{className:"h-4 w-4"})})}),s]})}).displayName=r.H_.displayName,s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,l.jsxs)(r.hN,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(r.VF,{children:(0,l.jsx)(o.A,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=r.hN.displayName,s.forwardRef((e,t)=>{let{className:a,inset:s,...n}=e;return(0,l.jsx)(r.JU,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",a),...n})}).displayName=r.JU.displayName;let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(r.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...s})});h.displayName=r.wv.displayName},9338:(e,t,a)=>{"use strict";a.d(t,{F:()=>o,PlayerProvider:()=>i});var l=a(5155),s=a(2115),r=a(875);let n=(0,s.createContext)(void 0);function i(e){let{children:t}=e,a=(0,s.useRef)(null),[i,o]=(0,s.useState)(null),[d,c]=(0,s.useState)([]),[u,m]=(0,s.useState)(-1),[f,h]=(0,s.useState)(!1),[p,g]=(0,s.useState)(.8),[v,x]=(0,s.useState)(null),[b,y]=(0,s.useState)(0),[j,N]=(0,s.useState)(0),[w,k]=(0,s.useState)(!1),[S,z]=(0,s.useState)("none"),[C,A]=(0,s.useState)([]),[_,E]=(0,s.useState)(!1);(0,s.useEffect)(()=>{try{let e=localStorage.getItem("last_track_id");if(!e)return;(async()=>{try{let t=await r.i.getTrack(e);try{let e=await r.i.getAlbum(t.album_id);t.album_images=e.images||[]}catch(e){}o(t),c([t]),m(0)}catch(e){console.warn("[Player] Failed to restore last track",e)}})()}catch(e){}},[]),(0,s.useEffect)(()=>{a.current&&(a.current.volume=p)},[p]);let L=(0,s.useCallback)(async function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];try{console.debug("[Player] loadAndMaybePlay",{trackId:e.id,name:e.name,autoplay:t});let l=await r.i.playTrack(e.id);x(l),a.current&&(a.current.src=l,t&&(await a.current.play(),h(!0))),E(!1)}catch(e){console.error("Failed to load stream",e)}},[]),P=(0,s.useCallback)(async(e,t)=>{var a,l;let s=null===(l=null==t?void 0:t.autoplay)||void 0===l||l;if(console.debug("[Player] play",{trackId:e.id,name:e.name,autoplay:s,queueLen:null==t?void 0:null===(a=t.queue)||void 0===a?void 0:a.length}),null==t?void 0:t.queue){let a=t.queue;A(a);let l=[...a].sort(()=>Math.random()-.5);c(l),k(!0);let s=l.findIndex(t=>t.id===e.id);m(s>=0?s:0)}o(e);try{localStorage.setItem("last_track_id",e.id)}catch(e){}await L(e,s)},[L]),M=(0,s.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e.length)return;console.debug("[Player] playQueue",{startIndex:t,tracks:e.map(e=>({id:e.id,name:e.name}))}),A(e);let a=[...e].sort(()=>Math.random()-.5);k(!0);let l=e[t],s=a.findIndex(e=>e.id===l.id);t=s>=0?s:0,c(a);let r=Math.max(0,Math.min(t,a.length-1));m(r);let n=a[r];o(n),await L(n,!0)},[L]),F=(0,s.useCallback)(()=>{a.current&&(a.current.pause(),h(!1))},[]),R=(0,s.useCallback)(()=>{let e=a.current;if(e){if((!e.src||0===e.src.length)&&i){L(i,!0);return}e.play().then(()=>h(!0)).catch(()=>{})}},[i,L]),I=(0,s.useCallback)(async()=>{if(0===d.length)return;let e=u+1;if(e>=d.length){if("all"!==S)return;e=0}m(e);let t=d[e];o(t),await L(t,!0)},[d,u,S,L]),q=(0,s.useCallback)(async()=>{if(0===d.length)return;let e=u-1;if(e<0){if("all"!==S)return;e=d.length-1}m(e);let t=d[e];o(t),await L(t,!0)},[d,u,S,L]),D=(0,s.useCallback)(e=>{g(Math.max(0,Math.min(1,e)))},[]),G=(0,s.useCallback)(e=>{let t=a.current;if(!t)return;let l=Math.max(0,Math.min(e,isFinite(t.duration)?t.duration:e));t.currentTime=l,y(l)},[]),T=(0,s.useCallback)(()=>{k(e=>{let t=!e;if(t){if(d.length>0){let e=[...d].sort(()=>Math.random()-.5);if(c(e),i){let t=e.findIndex(e=>e.id===i.id);t>=0&&m(t)}}}else console.log("[Player] Shuffle paused - keeping current queue order");return t})},[d,i]),H=(0,s.useCallback)(()=>{z(e=>"none"===e?"all":"all"===e?"one":"none")},[]);(0,s.useEffect)(()=>{let e=a.current;if(!e)return;let t=()=>{let t=e.currentTime||0;y(t),i&&!_&&t>30&&(t>.5*e.duration||t>30)&&(E(!0),window.addToHistoryGlobal&&window.addToHistoryGlobal(i.id))},l=()=>N(e.duration&&isFinite(e.duration)?e.duration:0),s=()=>h(!0),r=()=>h(!1),n=()=>{d.length>0&&("one"===S?i&&L(i,!0):w?I():(console.log("[Player] Shuffle paused - stopping playback after track ends"),h(!1)))};return e.addEventListener("timeupdate",t),e.addEventListener("loadedmetadata",l),e.addEventListener("play",s),e.addEventListener("pause",r),e.addEventListener("ended",n),()=>{e.removeEventListener("timeupdate",t),e.removeEventListener("loadedmetadata",l),e.removeEventListener("play",s),e.removeEventListener("pause",r),e.removeEventListener("ended",n)}},[d,S,i,I,L,w,_]);let U=(0,s.useMemo)(()=>({current:i,queue:d,isPlaying:f,volume:p,streamUrl:v,currentTime:b,duration:j,isShuffled:w,loopMode:S,play:P,playQueue:M,pause:F,resume:R,next:I,prev:q,setVolume:D,seek:G,toggleShuffle:T,toggleLoop:H}),[i,d,f,p,v,b,j,w,S,P,M,F,R,I,q,D,G,T,H]);return(0,l.jsxs)(n.Provider,{value:U,children:[t,(0,l.jsx)("audio",{ref:a})]})}function o(){let e=(0,s.useContext)(n);if(!e)throw Error("usePlayer must be used within PlayerProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[9135,3965,3374,2390,1835,1541,855,1322,5970,8441,1684,7358],()=>t(4494)),_N_E=e.O()}]);